TODO:
- [ ] Outline guard flow
  - Same guard before and after execution (and why)
- [ ] Why no guards for modules?